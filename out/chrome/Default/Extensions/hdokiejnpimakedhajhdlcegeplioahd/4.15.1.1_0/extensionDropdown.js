ExtensionDropdown=function(e){var t,n,o=$(e.body),i=e.getElementById("items"),a=e.getElementById("searchResults"),l=e.getElementById("recentSites"),s=e.getElementById("identitiesMenuItem"),r=e.getElementById("matchingSitesTopLevel"),c=e.getElementById("matchingSites"),d=e.getElementById("addCustomItems"),u=$("#topLevelContainer"),p=$("#vaultMenuItem"),m=$("#addOmariaItems"),g=$("#allItems"),f=$("#groupLabel"),b=$("#backButton"),v=$("#debugconsole"),h=$("#encryptedExportMenuItem"),P=$("#wifiExportMenuItem"),I=$("#matchingSitesMenuItem"),y=$("#recentSitesMenuItem"),L=$("#container"),_=$("#searchInput"),S=$("#applicationsMenuItem"),T=null,C=function(){LPPlatform.setDropdownPopoverSize(L.outerHeight(),L.outerWidth())},E=null,w=null,x=null,M=null,k=null,D=null,A=null,O=null,F=null,N=null,B=null,R=null,H=!1,V=!1,G=!1,K=!1,z={},U=null,j={},W=[],Y={},Z=function(e){if(f.empty(),e){var t=e.getName(),n=(t=t.replace(/\\/g," \\ ")).indexOf("\\",t.length/2);if(-1===n&&(n=t.lastIndexOf("\\")),n>0){var o=LPTools.createElement("div","textOverflowContainer groupLabel");o.appendChild(LPTools.createElement("span",null,t.substring(0,n))),f.append(LPTools.createElement("span","textTail","Â "+t.substring(n))),f.append(o),LPTools.setupMiddleEllipsis(f)}else f.append(LPTools.createElement("span","groupLabel",t));f.find(".groupLabel").attr("title",e.toString())}};Y.GroupState=function(e){var t=LPTools.getNavIndex();this.pop=function(n){e.rebuildItems(null,n),n&&LPTools.setNavIndex(t),Z(e._model)}},Y.SearchState=function(){var e=new Y.CSSState("searchItem",{restoreKeyboardNav:!1});this.pop=function(){ue(),e.pop()}},Y.TopLevelMatchingSitesState=function(e){var t=new Y.CSSState("matchingSites"),n=new Y.GroupState(e);this.pop=function(){n.pop(),t.pop()}},Y.CSSState=(t=o.attr("class"),n=function(e){o.removeClass(t),o.addClass(e),t=e},function(e,o){var i=t;if(n(e),LPTools.getOption(o,"applyKeyboardNav",!0)){var a=LPTools.getOption(o,"selectFirst",!1);LPTools.addKeyBoardNavigation($(".extensionMenuItem:visible"),{selectFirst:a})}this.pop=function(){Z(null),n(i),LPTools.getOption(o,"restoreKeyboardNav",!0)&&LPTools.addKeyBoardNavigation($(".extensionMenuItem:visible"),{displayItems:0===W.length&&R?R.getItems():null}),o&&"function"==typeof o.onPop&&o.onPop()}});var q,J=function(){ee();var t=bg.get("LPContentScriptFeatures").ziggy,n=bg.get("LPContentScriptFeatures").omaria;T={isZiggySet:t,isOmarSet:n,showHelpText:t};var o=function(){Q(),se(),de(T),LPTools.parseUserSpecificMenu(e.getElementById("mainMenu"),LPProxy.getAccountClass()),$("#username").text(bg.get("g_username")),setTimeout(function(){te(T,0)}),t||($("#mainMenu").addClass("showIcons"),X()),bg.sendLpImprove("openicondropdown")},i=LPPlatform.getExtensionDropdownDelay();i>=0?setTimeout(o,i):o()},Q=function(){L.addClass("loading")},X=function(){C(),L.addClass("initialized"),LPTools.addKeyBoardNavigation($(".extensionMenuItem:visible"),{displayItems:R?R.getItems():null}),_.focus()},ee=function(){LPFeatures.updateFeatures({import:!0,noexport:!1,show_notes:!0,hideidentities:!1,show_formfills:!0})},te=function(e){for(var t in LPProxy.initializeModel(),re(e),oe(e),V=!0,L.removeClass("loading"),j)j[t]();var n=_.val();n&&pe(n),bg.sendTimingEvent("loadDropdown","start",window.performance.timing.navigationStart),bg.sendTimingEvent("loadDropdown","stop",window.performance.timing.loadEventEnd,{numberOfItems:LPProxy.getSites().concat(LPProxy.getNotes()).concat(LPProxy.getApplications()).length})},ne=function(e,t){t=t||{};return LPProxy.getPreference("showAcctsInGroups",!0)&&(e=LPProxy.assignItemsToGroups(e,!1),t.separateFavorites=!0),new Container(e,t)},oe=function(e){e.isOmarSet?((x=new Container(LPProxy.getAllItems(),$.extend({},e,{omarItems:!0,trackAction:!0}))).setElement(i),N=new Container(LPProxy.getCustomNoteTemplates().map(function(e){return new AddCustomItemDisplay(e)}),$.extend({},e,{additionalItemClasses:"addOmariaItem",autoExpandSingleItem:!1,value:"Custom"})),ae(N.getItemCount())):((M=ne(LPProxy.getSites(),e)).setElement(i),(k=ne(LPProxy.getNotes(),e)).setElement(i),(D=new Container(LPProxy.getFormFills(),e)).setElement(i),(A=new Container(LPProxy.getApplications(),e)).setElement(i)),F=new Container(LPProxy.getAllItems(),$.extend({},e,{moreOptionsState:Y.SearchState}))},ie=function(e){var t=["extensionMenuItem","omariaMenuItem"];e&&e.attrs&&e.attrs.class&&(t=t.concat(e.attrs.class));var n=$.extend({},e.attrs,{class:t}),o=LPTools.createElement("li",n);return o.appendChild(LPTools.createElement("i",e.icon+" menuIcon")),o.appendChild(LPTools.createElement("span","name",e.name)),e.addMoreButton&&o.appendChild(LPTools.createElement("div","more")),n.childView&&$(o).bind("click",we),e.onClick&&$(o).bind("click",e.onClick),o},ae=function(e){var t=LPProxy.getRecordConfig(),n=LPProxy.getAllModelTypes();t.viewConfig.forEach(function(o){if(o.forEach(function(o){if("all"!==o){var a=LPProxy.getConfigViewObject(o);a.types.forEach(function(o){var l=LPProxy.getConfigTypeObject(o);(a.default||n.includes(l.recordType))&&g.append(ie({attrs:{class:"omariaItem",childView:"omariaItems"},name:a.name,icon:t.icons[l.id],addMoreButton:!0,onClick:function(e){!function(e,t){switch(t&&x.applyFilter({showEmptyGroups:!1,func:function(e){return e instanceof GroupDisplay||e.getRecordType()===t}}),x.rebuildItems(i,!e.originalEvent.isTrusted),t){case"Account":Te(x,"Empty_Site_Omaria",Strings.translateString("You can save and fill usernames and passwords for any website or app."),Strings.translateString("Add a password"),t);break;case"Generic":Te(x,"Empty_Note_Omaria",Strings.translateString("Use a secure note to save important documents in your LastPass vault."),Strings.translateString("Add a secure note"),t);break;case"Address":Te(x,"Empty_Address_Omaria",Strings.translateString("Add an address to auto-fill your email, phone number, and other contact info."),Strings.translateString("Add an address"),t);break;case"Credit Card":Te(x,"Empty_Credit_Card_Omaria",Strings.translateString("Next time you go shopping, they'll be waiting!"),Strings.translateString("Add a payment card"),t);break;case"Bank Account":Te(x,"Empty_Bank_Account_Omaria",Strings.translateString("Save and fill your bank accounts securely on any device with LastPass."),Strings.translateString("Add a bank account"),t)}}(e,l.recordType)}}));var s=null;l.recordType===t.TYPE.Custom?e>0&&(s=ie({attrs:{class:"addOmariaItem",childView:"addCustomItems"},name:l.name,icon:t.icons[l.id],addMoreButton:!0,onClick:function(e){N.rebuildItems(d,!e.originalEvent.isTrusted)}})):s=ie({attrs:{class:"addOmariaItem"},name:l.name,icon:t.icons[l.id],onClick:function(){le(l.recordType)}}),s&&m.append(s)})}}),o!==t.viewConfig[0]){if(!g[0].lastChild.classList.contains("omarSpacer")){var a=LPTools.createElement("li","omarSpacer");g.append(a)}var l=LPTools.createElement("li","omarSpacer");m.children().last().hasClass("omarSpacer")||m.append(l)}});var o=LPTools.createElement("li",{class:"extensionMenuItem addOmariaItem",value:"saveAll"},Strings.translateString("Save All Entered Data"));m.append(o),$('.addOmariaItem[value="saveAll"]').bind("click",function(){bg.lpevent("m_saed"),bg.get_selected_tab_data(null,function(e){bg.sendLpImprove("save_all_entered_data",{domain:bg.lp_gettld_url(e.url)})}),bg.saveall()})},le=function(e){bg.lpevent("m_add"),"Account"===e?bg.get_selected_tab_data_no_extension(null,function(e){be({defaultData:{url:e?e.url:""}})}):ve({defaultData:{notetype:e}})},se=function(){v.LP_removeAttr("style"),h.LP_removeAttr("style"),P.LP_removeAttr("style"),S.LP_removeAttr("style"),bg.is_user_debug_enabled()&&v.show(),bg.have_binary()&&(h.show(),bg.LPPlatform.isWin()&&P.show()),LPTools.hasProperties(bg.get("g_applications"))&&S.show(),LPFeatures.allowNotes()?$("#notesMenuItem").show():$("#notesMenuItem").hide()},re=function(t){if(t.isOmarSet&&(s=e.getElementById("omarIdentitiesMenuItem")),w=LPProxy.getIdentities(),LPProxy.enableCurrentIdentity(w),w.length>0){me(E);for(var n=[],o=0,i=w.length;o<i;++o)n.push(w[o].newDisplayObject());new IdentityContainer(n,t).initialize(e.getElementById("identities"))}else $(s).hide()},ce=function(e,t,n){var o,i,a=function(e){var t=bg.lpmdec(e.extra,!0),n=/Language:(.+)/.exec(t);return n&&n.length>1?n[1].substr(0,2):"en"},l=[],s=[];for(o=0,i=U.length;o<i;++o){var r=LPProxy.getNoteModel(U[o].aid);if(r){var c=a(r._data);-1===s.indexOf(c)&&s.push(c)}}for(o=0,i=U.length;o<i;++o){var d=U[o].aid;if("account"===U[o].type)l.push(new MatchingAccountDisplay(LPProxy.getSiteModel(d)));else if("note"===U[o].type){var u=LPProxy.getNoteModel(d);l.push(new MatchingNoteDisplay(u,s.length>1?a(u._data):null))}}(R=new Container(l,t)).setElement(e),R.rebuildItems()},de=function(t){for(var n=0,o=(U=bg.getmatchingsites(!1,!0,!1)).length;n<o;++n)z[U[n].aid]=!0;t.isZiggySet||LPProxy.getPreference("toplevelmatchingsites",!1)?(y.addClass("divider"),p.addClass("divider"),u.removeClass("hidden"),U.length>2?p.addClass("topLevelMatchesShadow"):(p.removeClass("topLevelMatchesShadow"),0===U.length&&(p.removeClass("divider"),u.addClass("hidden"))),ge("topLevelMatchingSites",function(){ce(r,$.extend({},t,{autoExpandSingleItem:!1,moreOptionsElement:e.getElementById("matchingSites"),moreOptionsState:Y.TopLevelMatchingSitesState,addLastClass:!1,trackAction:!0,sortFunction:VaultItemBaseDisplay.prototype.sortOmarMatchingItems})),X()})()):(0===U.length?I.LP_removeAttr("style"):(I.show(),$("#matchingSiteCounter").text(U.length)),p.removeClass("divider"),p.removeClass("topLevelMatchesShadow"),u.addClass("hidden"))},ue=function(){LPTools.removeDOMChildren(a);for(var e=0,t=O.length;e<t;++e){var n=O[e],o=n.build(T);n.postBuild(o),a.appendChild(o)}if(0===O.length){var i=LPTools.buildEmptyPlaceholder(Strings.translateString("No Matching Results"),"extensionSearchPlaceholder",a);a.appendChild(i)}LPTools.addKeyBoardNavigation(a.children,{rightArrowSelector:".moreItem",selectFirst:!0,displayItems:O})},pe=(q=null,function(e){e.length>0?(V&&(O&&O.forEach(function(e){e.hideInContextOptions()}),O=F.getSearchResultItems(e),ue()),H||(Ie("search",{applyKeyboardNav:!1,onPop:function(){_.val("")}}),H=!0,bg.sendLpImprove("search",{source:"icon"}))):q&&q.length>0&&(ye(),H=!1),q=e}),me=function(t){var n=Strings.translateString("Identities")+" ("+t.getName()+")",o=s.firstChild;3!==o.nodeType?(o=e.createTextNode(n),s.insertBefore(o,s.firstChild)):o.textContent=n},ge=function(e,t){return function(){V?t.apply(this,arguments):j[e]=t}},fe=function(e){return e||(e={}),e.saveOptions={source:"icon"},e},be=function(e){bg.LPPlatform.openTabDialog("site",fe(e))},ve=function(e){bg.LPPlatform.openTabDialog("note",fe(e))},he=function(e){bg.LPPlatform.openTabDialog("formFill",fe(e))},Pe=function(e){e.appendChild(LPTools.createElement("li","extensionMenuItem none","None Available"))},Ie=function(e,t){W.push(new Y.CSSState(e,t))},ye=function(e){var t=W.pop();t&&t.pop(e)},Le=dialogs.generatePassword,_e=function(){Le.getDialog().close(),b.unbind("click",_e)},Se=null,Te=function(e,t,n,o,i){if(i=i||"Generic",e.isEmpty()){var a=LPTools.createElement("div","emptyView");a.appendChild(LPTools.createElement("img",{src:"images/vault_4.0/"+t+".png",class:"emptyViewIcon"})),a.appendChild(LPTools.createElement("h1","emptyViewText",n));var l=LPTools.createElement("input",{class:"addItem rbtn",type:"button",value:o,tabindex:-1});l.appendChild(LPTools.createElement("i","fa fa-trash")),a.appendChild(l),l.addEventListener("click",function(e){le(i)}),LPTools.addKeyBoardNavigation($(l),{selectFirst:!0}),document.getElementById("items").appendChild(a)}},Ce=function(e,t,n){if(e.isEmpty()){var o=LPTools.createElement("div","emptyView");o.appendChild(LPTools.createElement("img",{src:"images/vault_4.0/"+t,class:"emptyViewIcon"})),o.appendChild(LPTools.createElement("h1","emptyViewText",n)),document.getElementById("items").appendChild(o)}},Ee=function(){bg.lpevent("m_logs"),bg.getConsoleLogs(function(e){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(e)),t.setAttribute("download","Extension_Logs.txt"),t.target="_blank",t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)})};_.LP_addSearchHandlers("inputDialog",function(e){pe(e)}),b.bind("click",ye);var we=function(e){var t;Ie(function(e){for(var t=null;null!==e&&null===(t=e.getAttribute("childview"));)e=e.parentElement;return t}(e.target),{selectFirst:!e.originalEvent.isTrusted}),(t=e)&&(t.stopPropagation(),t.preventDefault())};$("[childview]").bind("click",we),$("#addSite").bind("click",function(e){bg.get_selected_tab_data_no_extension(null,function(e){bg.lpevent("m_add"),be({defaultData:{url:e?e.url:""}}),LPPlatform.closePopup()}),e.stopPropagation()}),$("#saveAllEnteredData").bind("click",function(){bg.lpevent("m_saed"),bg.get_selected_tab_data(null,function(e){bg.sendLpImprove("save_all_entered_data",{domain:bg.lp_gettld_url(e.url)})}),bg.saveall()}),$("#addNote").bind("click",function(){bg.lpevent("m_addn"),ve()}),$("#addFormFill").bind("click",function(){bg.lpevent("m_af"),he()}),$("#addCreditCard").bind("click",function(){bg.lpevent("m_af"),he({defaultData:{profiletype:FormFill.prototype.FORM_FILL_TYPE_CREDIT_CARD}})}),$("#clearForms").bind("click",function(){bg.lpevent("m_clrf"),bg.clearforms("icon")});var xe=null;$("#chooseProfile").bind("click",function(){dialogs.chooseProfile.open({preSetup:function(e){if(null===xe){var t=dialogs.chooseProfile.parentElementID,n=e.options.hideHeader;xe=function(){dialogs.chooseProfile.parentElementID=t,e.options.hideHeader=n,e.$element.css("min-height","")}}e.$element.css("min-height",0),dialogs.chooseProfile.parentElementID="chooseProfileCreditCard",e.options.hideHeader=!0},onClose:function(){ye()},saveOptions:{source:"icon"}})}),$("#vaultMenuItem").bind("click",function(){bg.lpevent("m_ov"),bg.openvault()}),$("#sitesMenuItem").bind("click",ge("sites",function(e){M.rebuildItems(i,!e.originalEvent.isTrusted),Ce(M,"Empty_Site.png",Strings.translateString("Remember every password"))})),$("#formFillsMenuItem").bind("click",ge("formFills",function(e){D.rebuildItems(i,!e.originalEvent.isTrusted),Ce(D,"Empty_Form.png",Strings.translateString("Fill Every Form"))})),$("#applicationsMenuItem").bind("click",ge("applications",function(e){A.rebuildItems(i,!e.originalEvent.isTrusted),Ce(A,"Empty_Site.png",Strings.translateString("Remember every password"))})),$("#generateMenuItem").bind("click",function(){!0===bg.get("LPContentScriptFeatures").better_generate_password_enabled&&(Le=dialogs.betterGeneratePassword),Le.open({preSetup:function(e){if(null===Se){var t=Le.parentElementID,n=e.options.hideHeader,o=e.dynamicHeight;Se=function(){Le.parentElementID=t,e.options.hideHeader=n,e.useDynamicHeignt(o)}}Le.parentElementID="extensionDropdownGeneratePassword",e.options.hideHeader=!0,e.useDynamicHeignt(!1)},postSetup:function(e){LPPlatform.setDropdownPopoverSize(e.$element.outerHeight()+L.outerHeight(),L.outerWidth())},onClose:function(){ye(),C()},onCopy:function(){LPPlatform.closePopup(!0)},saveOptions:{source:"icon"}}),b.unbind("click",_e),b.bind("click",_e)}),$("#notesMenuItem").bind("click",ge("notes",function(e){k.rebuildItems(i,!e.originalEvent.isTrusted),Ce(k,"Empty_Note.png",Strings.translateString("Store Every Note"))})),$("#clearMostRecent").bind("click",function(){bg.clearrecent(),LPTools.removeDOMChildren(l),Pe(l)});var Me=ge("mostRecent",function(e){G||(!function(){var e=bg.getClearRecentTime(),t=bg.Preferences.get("recentUsedCount"),n=null;(n=bg.get("LPContentScriptFeatures").omaria?x.getItemChildren():M.getItemChildren().concat(k.getItemChildren())).sort(VaultItemBaseDisplay.prototype.sortByMostRecent);for(var o=[],i=0,a=n.length;i<a&&i<t;++i){var s=n[i];s.getLastTouchValue()>=e&&o.push(s._model.newDisplayObject())}o.length>0?(B=new Container(o,$.extend({},T,{sortFunction:VaultItemBaseDisplay.prototype.sortByMostRecent}))).initialize(l):Pe(l)}(),G=!0),LPTools.addKeyBoardNavigation(l.children,{rightArrowSelector:".moreItem",selectFirst:!e.originalEvent.isTrusted,displayItems:B.getItems()})});y.bind("click",Me);var $e=ge("matchingSites",function(t){K||(ce(c),K=!0),LPTools.addKeyBoardNavigation(e.getElementById("matchingSites").children,{rightArrowSelector:".moreItem",selectFirst:!t.originalEvent.isTrusted})});if(I.bind("click",$e),$("#prefMenuItem").bind("click",function(){bg.lpevent("m_op"),bg.openprefs()}),$("#helpMenuItem").bind("click",function(){bg.lpevent("m_oh"),bg.openhelp()}),$("#adminConsoleMenuItem").bind("click",function(){bg.lpevent("m_oec"),bg.openentconsole()}),$("#logoutMenuItem").bind("click",function(){bg.lpevent("m_lo"),bg.loggedOut(!1,"menu")}),$("#challengeMenuItem").bind("click",function(){bg.lpevent("m_sec"),bg.openseccheck()}),$("#favoritesMenuItem").bind("click",function(){bg.lpevent("m_of"),bg.openfavorites(!1,"icon")}),$("#aboutMenuItem").bind("click",function(){bg.lpevent("m_abt"),bg.openabout()}),v.bind("click",function(){bg.lpevent("m_dbgcon"),bg.opendebugtab()}),$("#csvExportMenuItem").bind("click",function(){bg.lpevent("m_e"),bg.openexport()}),$("#formFillExportMenuItem").bind("click",function(){bg.lpevent("m_eff"),bg.formfillexport()}),h.bind("click",function(){bg.lpevent("m_elp"),bg.openlastpassexport()}),P.bind("click",function(){bg.lpevent("m_ewlan"),bg.wlanexport()}),$("#printSitesMenuItem").bind("click",function(){bg.lpevent("m_p"),bg.openprint(!1)}),$("#printNotesMenuItem").bind("click",function(){bg.lpevent("m_pn"),bg.openprint(!0)}),$("#refreshMenuItem").bind("click",function(){bg.lpevent("m_ref"),LPProxy.refreshSites()}),$("#clearCachMenuItem").bind("click",function(){bg.lpevent("m_cl"),bg.clearCache(!1,!0,!1)}),$("#myAccountMenuItem").bind("click",function(){bg.lpevent("m_mya"),bg.openmyaccount()}),$("#sessionsMenuItem").bind("click",function(){bg.lpevent("m_ses"),bg.opensessions()}),$("#downloadLogsMenuItem").bind("click",function(){Ee()}),LPPlatform.addEventListener(window,"unload",function(){Ae()}),o.on("click",".extensionMenuItem, .footer, .contextOptionsDropdown",function(){LPPlatform.closePopup()}),LPFeatures.allowGift()){var ke=$("#specialOfferMenuItem");ke.show(),ke.bind("click",function(){bg.openURL(LPProxy.getBaseURL()+"gift.php")})}$("#omarChallengeMenuItem").bind("click",function(){bg.lpevent("m_sec"),bg.openseccheck()}),$("#omarFavoritesMenuItem").bind("click",function(){bg.lpevent("m_of"),bg.openfavorites(!1,"icon")}),$("#omarPrefMenuItem").bind("click",function(){bg.lpevent("m_op"),bg.openprefs()}),$("#omarHelpMenuItem").bind("click",function(){bg.lpevent("m_oh"),bg.openhelp()}),$("#omarAboutMenuItem").bind("click",function(){bg.lpevent("m_abt"),bg.openabout()}),$("#omarRefreshMenuItem").bind("click",function(){bg.lpevent("m_ref"),LPProxy.refreshSites()}),$("#omarClearCachMenuItem").bind("click",function(){bg.lpevent("m_cl"),bg.clearCache(!1,!0,!1)}),$("#omarSessionsMenuItem").bind("click",function(){bg.lpevent("m_ses"),bg.opensessions()}),$("#omarDownloadLogsMenuItem").bind("click",function(){Ee()}),Topics.get(Topics.PUSH_STATE).subscribe(function(e){W.push(e)}),Topics.get(Topics.EDIT_SITE).subscribe(function(e){e.vaultItem=e.vaultItem.getID(),be(e)}),Topics.get(Topics.EDIT_NOTE).subscribe(function(e){e.vaultItem=e.vaultItem.getID(),ve(e)}),Topics.get(Topics.EDIT_FORM_FILL).subscribe(function(e){e.vaultItem=e.vaultItem.getID(),he(e)}),Topics.get(Topics.EDIT_APPLICATION).subscribe(function(e){e.vaultItem=e.vaultItem.getID(),bg.LPPlatform.openTabDialog("application",e)}),Topics.get(Topics.IDENTITY_ENABLE).subscribe(function(e){LPProxy.enableIdentity(e),E=e}),Topics.get(Topics.CONFIRM).subscribe(function(e){De("confirmation",e)}),Topics.get(Topics.ERROR).subscribe(function(e){e&&De("alert",{title:Strings.Vault.ERROR,text:e})}),Topics.get(Topics.REPROMPT).subscribe(function(e){De("reprompt",{successCallback:e})}),Topics.get(Topics.LEFT_ARROW).subscribe(function(){LPTools.disableMouse(),ye(!0)}),Topics.get(Topics.CLEAR_DATA).subscribe(function(){for(var e=W.length-1;e>-1;--e)W[e].pop();W=[],LPTools.setNavIndex(0),_.val(""),H=!1,V=!1,G=!1,K=!1,z={},j={},U=null,Se&&Se(),xe&&xe(),L.removeClass("initialized"),g.empty(),m.empty(),Dialog.prototype.closeAllDialogs(!0)}),Topics.get(Topics.INITIALIZED).subscribe(function(){Strings.translate(e.body),LPPlatform.setupDropdownImportMenu(L)});var De=function(e,t){$("#container").LP_hide(),LPTools.removeKeyBoardNavigation(),t=$.extend(t,{onResize:function(e,t){LPPlatform.setDropdownPopoverSize(e,t)},onClose:function(){LPPlatform.closePopup()}}),LPDialog.openDialog(e,t)},Ae=function(){Topics.get(Topics.CLEAR_DATA).publish()};return{setup:J,State:Y,isMatchingSite:function(e){return!0===z[e]},setGroupLabel:Z,open:function(){var e=bg.get("g_badgedata");if(e&&"notification"===e.cmd){switch(e.alerttype){case"duplicate":De("duplicatePassword",{notification:e});break;case"weak":De("weakPassword",{notification:e})}switch(e.type){case"error":De("notification",{notification:bg.get("g_notification_data")})}bg.clear_badge()}else $("#container").LP_show(),J()},openDialog:De,reset:Ae,setBigIcons:function(e){bg.set("g_bigicons",e)}}}(document);
//# sourceMappingURL=sourcemaps/extensionDropdown.js.map
