function doc_get_form_equivalents(e){if(e||(e=LP_derive_doc()),!e)return[];if(!e.body)return[];var n=sprintf;g_isie&&init_LPfn()&&LPfn&&(n=LPfn.sprintf);var t,r,o=new RegExp("container|form|box|wrapper|youama-login-window|youama-register-window","i"),i=!1,l=[],a=0,s=e.body.children,_=s.length;if(Checkpoint.assert(_<100,"document too complex, "+get_doc_location_href(e)),_>100&&(_=100),LP_has_youama(e)){var f=LP_get_youama_fields(e);if(f.login_form_container&&f.regis_form_container)return[f.login_form_container,f.regis_form_container]}for(t=0;t<_;t++){var m=s[t].tagName.toUpperCase();if(lp_in_array(m,["DIV","FORM","SECTION","HEADER"])){if(elt_is_formlike_container(s[t])){var u=g(s[t],o);for(a+=u.length,r=0;r<u.length;r++)l.push(u[r])}}else"INPUT"==m&&(i=!0)}return i&&0==l.length&&l.push(e.body),verbose_log(n("Found %d form equivalents on this page",a)),l;function g(e,t,r){if(!e)return[];var o,i,l=e.ownerDocument;r||(r=0);var a=[],s=[],_=[],f=e.children;if(!f||0==f.length)return[];for(o=0;o<f.length;o++)if(lp_in_array(f[o].tagName.toUpperCase(),["DIV","SECTION","HEADER"])&&lpIsVisible(f[o],!0)){var m=g(f[o],t,r+1);for(i=0;i<m.length;i++)s.push(m[i]);verbose_log(n("child div %s has %d forms ",LP_getname(f[o]),m.length))}else"FORM"==f[o].tagName.toUpperCase()?!is_search_form(l,f[o])&&popupfill_shoulddoform(l,f[o])&&s.push(f[o]):"INPUT"==f[o].tagName.toUpperCase()&&popupfill_shoulddofield(l,f[o])&&(verbose_log(n("child input %s found in %s",LP_getname(f[o]),LP_getname(e))),_.push(f[o]));return("DIV"==e.tagName||"FORM"==e.tagName)&&_.length>0?popupfill_shoulddoform(l,e)?(a.push(e),verbose_log(n("FOUND %d child forms and found inputs in this div %s, treating all together as one",s.length,LP_getname(e)))):verbose_log(n("FOUND child forms in this div %s but intentionally skipping it",0,LP_getname(e))):(a=s,verbose_log(n("FOUND %d child forms in this div %s",a.length,LP_getname(e)))),a}}function elt_is_formlike_container(e,n){if(!e)return!1;var t,r=e.ownerDocument,o=LP_createXPathFromElement(r,e);if(o||(o=LP_pickFormName(r,e)),!lpIsVisible(e,!0))return!1;if(e.children.length<=0)return!1;var i=e.getElementsByTagName("input"),l=[];if(i){if(i.length<=0)return!1;var a=i.length;for(Checkpoint.assert(a<MAX_INPUTS_SOFT,"formlike container "+LP_getname(e)+" is too complex"),a>MAX_INPUTS_SOFT&&(a=MAX_INPUTS_SOFT),t=0;t<a;t++)if(popupfill_shoulddofield(r,i[t])){l.push(i[t]);break}}return!(l.length<=0)&&(l.length>0&&(verbose_log("detected mammaliaforme "+LP_getname(e)),!0))}var g_lp_form_num=1;function LP_pickFormName(e,n){var t="none";if(null!=n&&(null==(t=LP_getname(n,LP_GETNAME_FAVOR_ID_OVER_NAME))||t.length<=0)){if(null!=n.action&&"string"==typeof n.action&&n.action.length>=0||null!=n.className&&n.className.length>=0){var r=n.action;"string"!=typeof r&&(r=n.getAttribute("action")),t="FF"+r+n.className}else t="none";if("FF"==t||"none"==t){var o=n.getAttribute("lpformnum");o||(o=g_lp_form_num++,n.setAttribute("lpformnum",o)),t+="lpformnum"+o}}return t}function LP_getFormEquivalent(e,n){return n?(e||(e=n.ownerDocument),e&&n.form?n.form:null):null}
//# sourceMappingURL=sourcemaps/forms_cs.js.map
