!function(){var t=Dialog,o=LPTools.getURLParams(),e=function(o,e){t.call(this,o,e),this.childDialogs=[],this.pendingAnimations=0};(e.prototype=Object.create(Dialog.prototype)).constructor=e,e.prototype.close=function(e){this.childDialogs.forEach(function(t){t.close(e)});var i=t.prototype.close.apply(this,arguments);return i&&(0===t.prototype.getDialogCount()&&0===LPDialog.getPendingCount()?csTop.LPFrame.close(o.dialogID):this.setFrameSize()),this.data.modal&&csTop.LPFrame.hideModal(),i},e.prototype.setFrameSize=function(t){csTop.LPFrame.css({id:o.dialogID,css:this.getSize(),callback:t&&t.callback})},e.prototype.addChildDialog=function(t){this.childDialogs.push(t),this.$element.append(t.$element)};e.prototype.getSize=function(){for(var t,o,e=$(".dialog:visible, .selectDropdownList:visible"),i=null,a=0;a<e.length;++a){var s=(t=e[a],void 0,o=t.getBoundingClientRect(),t=$(t),{top:o.top-parseInt(t.css("margin-top")),right:o.right+parseInt(t.css("margin-right")),bottom:o.bottom+parseInt(t.css("margin-bottom")),left:o.left-parseInt(t.css("margin-left"))});null===i?i=s:(i.top=Math.min(i.top,s.top),i.right=Math.max(i.right,s.right),i.bottom=Math.max(i.bottom,s.bottom),i.left=Math.min(i.left,s.left))}return{"max-height":i?i.bottom-i.top:0,"max-width":i?i.right-i.left:0}},e.prototype.isOverlay=function(){return!1},e.prototype.requestAnimationFrame=function(t){var e=this,i=function(){++e.pendingAnimations,t(function(t){--e.pendingAnimations,0===e.pendingAnimations&&e.setFrameSize(t)})};0===this.pendingAnimations?csTop.LPFrame.css({id:o.dialogID,css:{"max-height":"none","max-width":"none"},callback:i}):i()},e.prototype.postSetup=function(){t.prototype.postSetup.apply(this,arguments),this.hide(),csTop.LPFrame.css({id:o.dialogID,css:{display:"block"},callback:this.createHandler(function(){this.showInitial()})})},e.prototype.showInitial=function(){this.show(),this.data.modal&&csTop.LPFrame.showModal(),this.data.fullScreen||csTop.LPFrame.css({id:o.dialogID,css:this.getSize()})},e.prototype.addPasswordEye=function(t){t.LP_addPasswordEye({checkPermissionHandler:this.checkViewPasswordHandler,includeGenerateButton:t.hasClass("generate"),textual:!0})};var i=$.extend({},Dialog.prototype);$.extend(Dialog.prototype,e.prototype),Dialog=e,t.prototype=i}();
//# sourceMappingURL=sourcemaps/contentScriptDialog.js.map
