var ContainerSelectionDialog=function(e){var t;VaultItemDialog.call(this,e,{additionalHeaderClasses:["icon"],closeButtonEnabled:!0,maximizeButtonEnabled:!0,buttonAlign:this.RIGHT_ALIGN}),this.availableCollapsed=!1,this.selectedCollapsed=!1,this.toggleCollapse=(t=this,function(e,n,a){var l=$(a.target);t[e]?(n.expandAll(),t[e]=!1,l.attr("title","Collapse All")):(n.collapseAll(),t[e]=!0,l.attr("title","Expand All")),l.toggleClass("selected")})};ContainerSelectionDialog.prototype=Object.create(VaultItemDialog.prototype),ContainerSelectionDialog.prototype.constructor=ContainerSelectionDialog,function(e){ContainerSelectionDialog.prototype.initialize=function(e){var n;VaultItemDialog.prototype.initialize.apply(this,arguments),n=this,e.find(".availableSearch").LP_addSearchHandlers("inputDialog",function(e){n.containers.available.applySearch(e)}),e.find(".selectedSearch").LP_addSearchHandlers("inputDialog",function(e){n.containers.selected.applySearch(e)}),e.find(".availableCollapseToggle").bind("click",function(e){n.toggleCollapse("availableCollapsed",n.containers.available,e)}),e.find(".selectedCollapseToggle").bind("click",function(e){n.toggleCollapse("selectedCollapsed",n.containers.selected,e)}),n.availableContainerElement=e.find(".containerSelectionDialogAvailable"),n.availableContainerElement.bind("dragover",function(e){n.selectedFromSelected.length>0&&(e.preventDefault(),e.stopPropagation())}),n.availableContainerElement.bind("drop",function(){t(n.selectedFromSelected,n.containers.available)}),n.selectedContainerElement=e.find(".containerSelectionDialogSelected"),n.selectedContainerElement.bind("dragover",function(e){n.selectedFromAvailable.length>0&&(e.preventDefault(),e.stopPropagation())}),n.selectedContainerElement.bind("drop",function(){t(n.selectedFromAvailable,n.containers.selected)}),n.availableVaultItemOverrides={getContextMenuItems:function(e){return[new LPTools.ContextMenuItem(Constants.ACTION_ADD,{text:n.getAddToSelectedText()})]},isOverride:function(e){return e===Constants.ACTION_ADD},add:function(){t(this.getItemsForAction(),n.containers.selected)}},n.availableGroupOverrides={getContextMenuItems:function(e){return[new LPTools.ContextMenuItem(Constants.ACTION_ADD,{text:n.getAddToSelectedText()})]},isOverride:function(e){return e===Constants.ACTION_ADD},add:function(){t(this.getItemChildren(),n.containers.selected)}},n.selectedVaultItemOverrides={getContextMenuItems:function(e){return[new LPTools.ContextMenuItem(Constants.ACTION_REMOVE,{text:n.getRemoveFromSelectedText()})]},isOverride:function(e){return e===Constants.ACTION_REMOVE},remove:function(){t(this.getItemsForAction(),n.containers.available)}},n.selectedGroupOverrides={getContextMenuItems:function(e){return[new LPTools.ContextMenuItem(Constants.ACTION_REMOVE,{text:n.getRemoveFromSelectedText()})]},isOverride:function(e){return e===Constants.ACTION_REMOVE},remove:function(){t(this.getItemChildren(),n.containers.available)}}};var t=function(e,t){for(var n=0,a=(e=e.slice()).length;n<a;++n){var l=e[n],o=l._parent._model,i=l._model;l.destruct(),t.addChild(i.newDisplayObject(),o)}};ContainerSelectionDialog.prototype.getAddToSelectedText=function(){return Strings.translateString("Add to Selected")},ContainerSelectionDialog.prototype.getRemoveFromSelectedText=function(){return Strings.translateString("Remove from Selected")},ContainerSelectionDialog.prototype.setup=function(e,t){var n;this.selectedFromAvailable=[],this.selectedFromSelected=[],(n=this).containers.available=new Container(n.getAvailableItems(t),{display:VaultItemBaseDisplay.prototype.DISPLAY_LIST,additionalItemClasses:"dialogItem noItemButtons",additionalGroupClasses:"dialogItemGroup",forceDrag:!0,allowDrop:!1,publishSelect:!1,dragstart:function(){n.selectedFromAvailable=LPTools.getDragItems()},override:function(){return this instanceof GroupDisplay?n.availableGroupOverrides:n.availableVaultItemOverrides}}),n.containers.available.initialize(n.availableContainerElement.get(0)),n.containers.selected=new Container(n.getSelectedItems(t),{display:VaultItemBaseDisplay.prototype.DISPLAY_LIST,additionalItemClasses:"dialogItem noItemButtons",additionalGroupClasses:"dialogItemGroup",forceDrag:!0,allowDrop:!1,publishSelect:!1,dragstart:function(){n.selectedFromSelected=LPTools.getDragItems()},override:function(){return this instanceof GroupDisplay?n.selectedGroupOverrides:n.selectedVaultItemOverrides}}),n.containers.selected.initialize(n.selectedContainerElement.get(0)),VaultItemDialog.prototype.setup.apply(this,arguments)}}(document);
//# sourceMappingURL=sourcemaps/containerSelectionDialog.js.map
